<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
  <head>
    <title>Your Basket</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script type="text/javascript" src="model.js"></script>
  </head>
  <body>
      <h1 align="center">This is your basket</h1>
    <form>
      <table align="center">
        <script>
          var basket = readBasket();
          var productDetails = getProductDetails();
          for (var product in productDetails) {
            if (basket[product] > 0) {
              document.write('       <tr>\n');
              document.write('         <td><img src="img/' + productDetails[product]["image"] + '" /></td>\n');
              document.write('         <td><h3>' + productDetails[product]["name"] + '</h3></td>\n');
              document.write('         <td>' + productDetails[product]["units"] + '</td>\n');
              document.write('         <td>&pound;' + productDetails[product]["price"] + '</td>\n');
              document.write('         <td><input name="' + product + '" id="' + product + '" type="number" step="1" min="0" value="' + basket[product] + '" style="width: 50px;" /></td>\n');
              document.write('         <td><input name="change' + product + '" type="button" value="change quantity" style="width:120px;font-size: 10pt;"  onclick="javascript:changeProductQuantity(\'' + product + '\', document.getElementById(\'' + product + '\').value)" /></td>\n');
              document.write('         <td><input name="remove' + product + '" type="button" value="remove item" style="width:120px;font-size: 10pt;"  onclick="javascript:removeProductFromBasket(\'' + product + '\', document.getElementById(\'' + product + '\').value)" /></td>\n');
              document.write('       </tr>\n');
            }
          }
        </script>
      </table>
    </form>

    <div align="center" style="position: relative; bottom: 0; left: 0; right: 0; height: 100px;">
        
      <form align="center">
        <input type="button" name="continue" value="Continue Shopping" style="width:200px;font-size: 13pt; font-weight:bold;" onclick="window.open('shop.html');self.close();" />
        <input type="button" name="clearbasket" value="Clear Basket" style="width:200px;font-size: 13pt; font-weight:bold;" onclick="javascript:createEmptyBasket();alert('Basket cleared');window.open('shop.html');self.close();" />
        <input type="button" name="order" value="Order" style="width:200px;font-size:13pt; font-weight:bold;" onclick="window.open('order.html');self.close();" />
      </form>
        <div align="center" style="width: 500px;">
      <script>
        var totals = calculateTotals();
        document.write('<p align="center" style="font-size:13px;">Total ex VAT: &pound;' + totals["totalnovat"] + '</p>' + '<p align="center" style="font-size:13px;">includes VAT: &pound;' + totals["vat"] + '</p>' + '<p align="center" style="font-size:13px;">Total inc. VAT: &pound;' + totals["total"] + '</p>');
      </script>
        </div>
    </div>
  </body>
</html>
